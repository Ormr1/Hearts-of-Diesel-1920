#Category only allowed for GER
GER_mefo_bills_category = {

	GER_mefo_bills_mission = {

		allowed = { always = no }

		icon = ger_mefo_bills

		available = {
			NOT = { has_government = democratic }
			GER_can_delay_mefo_payment = yes
			has_political_power > 0
			hidden_trigger = { always = no }
		}

		#cost = GER_mefo_bill_counter?10

		days_mission_timeout = 180
		is_good = yes
		fire_only_once = yes

		cancel_trigger = {
			hidden_trigger = {
				OR = {
					NOT = { GER_has_mefo_bills = yes }
					has_idea = GER_mefo_bills_ended
				}
			}
		}

		days_remove = GER_extend_mefo_bills_days?0
		remove_effect = {
		}

		complete_effect = {
		}

		timeout_effect = {
			if = {
				limit = {
					has_country_flag = ger_has_cancelled_mefo
				}
				GER_remove_mefo_bills = yes
				#1
				if = {
					limit = {
						check_variable = { var = GER_mefo_bill_counter value = 15 compare = less_than }
					}
					add_political_power = -20
					add_timed_idea = { idea = GER_mefo_bills_ended days = 60 }
				}
				#2
				if = {
					limit = {
						check_variable = { var = GER_mefo_bill_counter value = 20 compare = equals }
					}
					add_political_power = -40
					add_timed_idea = { idea = GER_mefo_bills_ended days = 80 }
				}
				#3
				if = {
					limit = {
						check_variable = { var = GER_mefo_bill_counter value = 30 compare = equals }
					}
					add_political_power = -60
					add_timed_idea = { idea = GER_mefo_bills_ended days = 100 }
				}
				#4
				if = {
					limit = {
						check_variable = { var = GER_mefo_bill_counter value = 40 compare = equals }
					}
					add_political_power = -80
					add_timed_idea = { idea = GER_mefo_bills_ended days = 120 }
				}
				#5
				if = {
					limit = {
						check_variable = { var = GER_mefo_bill_counter value = 50 compare = equals }
					}
					add_political_power = -100
					add_timed_idea = { idea = GER_mefo_bills_ended days = 140 }
				}
				#6
				if = {
					limit = {
						check_variable = { var = GER_mefo_bill_counter value = 60 compare = equals }
					}
					add_political_power = -120
					add_timed_idea = { idea = GER_mefo_bills_ended days = 160 }
				}
				#7
				if = {
					limit = {
						check_variable = { var = GER_mefo_bill_counter value = 70 compare = equals }
					}
					add_political_power = -140
					add_timed_idea = { idea = GER_mefo_bills_ended days = 180 }
				}
				#8
				if = {
					limit = {
						check_variable = { var = GER_mefo_bill_counter value = 80 compare = equals }
					}
					add_political_power = -160
					add_timed_idea = { idea = GER_mefo_bills_ended days = 200 }
				}
				#9
				if = {
					limit = {
						check_variable = { var = GER_mefo_bill_counter value = 90 compare = equals }
					}
					add_political_power = -180
					add_timed_idea = { idea = GER_mefo_bills_ended days = 220 }
				}
				#10
				if = {
					limit = {
						check_variable = { var = GER_mefo_bill_counter value = 100 compare = equals }
					}
					add_political_power = -200
					add_timed_idea = { idea = GER_mefo_bills_ended days = 240 }
				}
				#11
				if = {
					limit = {
						check_variable = { var = GER_mefo_bill_counter value = 110 compare = equals }
					}
					add_political_power = -220
					add_timed_idea = { idea = GER_mefo_bills_ended days = 260 }
				}
				#12
				if = {
					limit = {
						check_variable = { var = GER_mefo_bill_counter value = 120 compare = equals }
					}
					add_political_power = -240
					add_timed_idea = { idea = GER_mefo_bills_ended days = 280 }
				}
				#13
				if = {
					limit = {
						check_variable = { var = GER_mefo_bill_counter value = 130 compare = equals }
					}
					add_political_power = -260
					add_timed_idea = { idea = GER_mefo_bills_ended days = 300 }
				}
				#14
				if = {
					limit = {
						check_variable = { var = GER_mefo_bill_counter value = 140 compare = equals }
					}
					add_political_power = -280
					add_timed_idea = { idea = GER_mefo_bills_ended days = 320 }
				}
				#15
				if = {
					limit = {
						check_variable = { var = GER_mefo_bill_counter value = 150 compare = equals }
					}
					add_political_power = -300
					add_timed_idea = { idea = GER_mefo_bills_ended days = 340 }
				}
				#16
				if = {
					limit = {
						check_variable = { var = GER_mefo_bill_counter value = 160 compare = equals }
					}
					add_political_power = -320
					add_timed_idea = { idea = GER_mefo_bills_ended days = 360 }
				}
				#17
				if = {
					limit = {
						check_variable = { var = GER_mefo_bill_counter value = 170 compare = equals }
					}
					add_political_power = -340
					add_timed_idea = { idea = GER_mefo_bills_ended days = 380 }
				}
				#18
				if = {
					limit = {
						check_variable = { var = GER_mefo_bill_counter value = 180 compare = equals }
					}
					add_political_power = -360
					add_timed_idea = { idea = GER_mefo_bills_ended days = 400 }
				}
				if = {
					limit = {
						check_variable = { var = GER_mefo_bill_counter value = 180 compare = greater_than }
					}
					add_political_power = -380
					add_timed_idea = { idea = GER_mefo_bills_ended days = 420 }
				}
			}
			else = {
				custom_effect_tooltip = GER_mefo_bills_mission_tt
				custom_effect_tooltip = GER_mefo_bills_effect_in_days
				hidden_effect = {
					set_variable = { GER_extend_mefo_bills_days = days_mission_timeout@GER_mefo_bills_mission }
					set_country_flag = paid_for_mefo
				}
				GER_mefo_bills_level_up = yes
				if = {
					limit = {
						check_variable = { var = GER_mefo_bill_counter value = 15 compare = less_than }
					}
					hidden_effect = { set_variable = { var = GER_mefo_bill_counter value = 10 } }
				}
				add_to_variable = { var = GER_mefo_bill_counter value = 10 }

				hidden_effect = {
					activate_mission = GER_mefo_bills_mission
				}
			}
		}

		ai_will_do = {
			factor = 200
		}
	}

	GER_cancel_mefos = {

		icon = ger_mefo_bills

		available = {
			hidden_trigger = {
				NOT = { has_country_flag = ger_has_cancelled_mefo }
				NOT = {
					OR = {
						NOT = { GER_has_mefo_bills = yes }
						has_idea = GER_mefo_bills_ended
					}
				}
			}
		}

		cost = 0

		fire_only_once = no

		visible = {
			hidden_trigger = {
				NOT = { has_country_flag = ger_has_cancelled_mefo }
				NOT = {
					OR = {
						NOT = { GER_has_mefo_bills = yes }
						has_idea = GER_mefo_bills_ended
					}
				}
			}
		}

		cancel_if_not_visible = yes

		remove_effect = {
			set_country_flag = ger_has_cancelled_mefo
		}

		ai_will_do = {
			factor = 0
		}
	}

	GER_renew_mefos = {

		icon = ger_mefo_bills

		available = {
			hidden_trigger = {
				has_country_flag = ger_has_cancelled_mefo
				NOT = {
					OR = {
						NOT = { GER_has_mefo_bills = yes }
						has_idea = GER_mefo_bills_ended
					}
				}
			}
		}

		cost = 0

		fire_only_once = no

		visible = {
			hidden_trigger = {
				has_country_flag = ger_has_cancelled_mefo
				NOT = {
					OR = {
						NOT = { GER_has_mefo_bills = yes }
						has_idea = GER_mefo_bills_ended
					}
				}
			}
		}

		cancel_if_not_visible = yes

		remove_effect = {
			clr_country_flag = ger_has_cancelled_mefo
		}

		ai_will_do = {
			factor = 200
		}
	}
}

operations = {

	GER_barbarossa_mission = {

		icon = generic_operation

		allowed = {
			always = no
			#added through on_action
		}

		available = {
			219 = { is_controlled_by_ROOT_or_ally = yes }
			195 = { is_controlled_by_ROOT_or_ally = yes }
			202 = { is_controlled_by_ROOT_or_ally = yes }
			217 = { is_controlled_by_ROOT_or_ally = yes }
		}

		days_mission_timeout = 180
		fire_only_once = yes

		activation = {

		}

		is_good = no

		complete_effect = {
			add_war_support = 0.1
			custom_effect_tooltip = barbarossa_mission_tt
		}

		timeout_effect = {

		}

		ai_will_do = {
			factor = 1
		}
	}
}

GER_case_anton_category = {

	GER_case_anton = {

		icon = generic_operation

		available = {
			original_tag = GER
			has_war = yes
			has_government = fascism
			any_country_with_original_tag = {
				original_tag_to_check = FRA
				has_government = fascism
				OR = {
					is_subject_of = GER
					has_focus_tree = vichy_french_focus
				}
				NOT = { has_war_with = GER }
				NOT = { has_country_flag = case_anton }
				custom_trigger_tooltip = {
					tooltip = GER_case_anton_tt2
					count_triggers = {
						amount = 3 # lost control of ca half french north africa
						458 = { CONTROLLER = { has_war_with = ROOT } }
						459 = { CONTROLLER = { has_war_with = ROOT } }
						460 = { CONTROLLER = { has_war_with = ROOT } }
						461 = { CONTROLLER = { has_war_with = ROOT } }
						462 = { CONTROLLER = { has_war_with = ROOT } }
						513 = { CONTROLLER = { has_war_with = ROOT } }
						665 = { CONTROLLER = { has_war_with = ROOT } }
					}
				}
			}
			divisions_in_state = { state = 31 size < 1 }
			divisions_in_state = { state = 25 size < 1 }
			divisions_in_state = { state = 22 size < 1 }
			divisions_in_state = { state = 21 size < 1 }
			divisions_in_state = { state = 32 size < 1 }
			divisions_in_state = { state = 22 size < 1 }
			divisions_in_state = { state = 26 size < 1 }
			divisions_in_state = { state = 33 size < 1 }
			divisions_in_state = { state = 20 size < 1 }
			OR = {
				ITA = { owns_state = 735 }
				divisions_in_state = { state = 735 size < 1 }
			}
		}

		cost = 50
		fire_only_once = yes

		visible = {
			original_tag = GER
			has_government = fascism
			any_country_with_original_tag = {
				original_tag_to_check = FRA
				has_government = fascism
				OR = {
					is_subject_of = GER
					has_focus_tree = vichy_french_focus
				}
				NOT = { has_war_with = GER }
			}
		}
		ai_will_do = {
			factor = 25

			modifier = {
				factor = 0
				VIC = { is_ai = no }
			}
		}
		complete_effect = {
			custom_effect_tooltip = GER_case_anton_tt
			hidden_effect = {
				random_other_country = {
					limit = {
						original_tag = FRA
						has_government = fascism
						OR = {
							is_subject_of = GER
							has_focus_tree = vichy_french_focus
						}
					}
					set_country_flag = case_anton
					activate_mission = FRA_case_anton_mission
				}
			}
		}
	}
}

#Category only allowed for GER
GER_reichskommissariats = {
	GER_reichskommissariat_norwegen = {

		icon = ger_reichskommissariats

		available = {
			has_completed_focus = GER_form_the_reichskommissariats
			has_government = fascism
			controls_state = 110
			controls_state = 142
			controls_state = 143
			controls_state = 144
		}

		cost = 0
		ai_will_do = {
			factor = 0
			modifier = {
				add = 1
				ENG = { has_capitulated = yes }
			}
		}

		visible = {
			has_completed_focus = GER_form_the_reichskommissariats
			has_government = fascism
		}

		complete_effect = {
			if = {
				limit = {
					country_exists = NOR
					NOT = { NOR = { has_government = fascism } }
				}
				hidden_effect = {
					NOR = {
						set_state_controller = 110
						set_state_controller = 142
						set_state_controller = 143
						set_state_controller = 144
					}
				}
				NOR = {
					start_civil_war = {
						ideology = fascism
						size = 1

						transfer_state = 110
						transfer_state = 142
						transfer_state = 143
						transfer_state = 144
						GER = {
							puppet = PREV
							set_autonomy = { target = PREV autonomy_state = autonomy_integrated_puppet }
						}
						set_cosmetic_tag = NOR_reichskommissariat
						create_country_leader = {
							name = "Josef Terboven"
							desc = "POLITICS_JOSEF_TERBOVEN_DESC"
							picture = GFX_portrait_Josef_Terboven
							expire = "1965.1.1"
							ideology = nazism
							traits = {
							}
						}
					}
				}
			}
			else = {
				NOR = {
					transfer_state = 110
					transfer_state = 142
					transfer_state = 143
					transfer_state = 144
					set_cosmetic_tag = NOR_reichskommissariat
					create_country_leader = {
						name = "Josef Terboven"
						desc = "POLITICS_JOSEF_TERBOVEN_DESC"
						picture = GFX_portrait_Josef_Terboven
						expire = "1965.1.1"
						ideology = nazism
						traits = {
						}
					}
				}
				set_autonomy = { target = NOR autonomy_state = autonomy_integrated_puppet }
			}
		}
	}

	GER_reichskommissariat_niederlande = {

		icon = ger_reichskommissariats

		available = {
			has_completed_focus = GER_form_the_reichskommissariats
			has_government = fascism
			controls_state = 7
			controls_state = 35
			controls_state = 36
		}

		cost = 0

		ai_will_do = {
			factor = 0
			modifier = {
				add = 1
				ENG = { has_capitulated = yes }
			}
		}

		visible = {
			has_completed_focus = GER_form_the_reichskommissariats
			has_government = fascism
		}

		complete_effect = {
			if = {
				limit = {
					country_exists = HOL
					NOT = { HOL = { has_government = fascism } }
				}
				hidden_effect = {
					HOL = {
						set_state_controller = 7
						set_state_controller = 35
						set_state_controller = 36
					}
				}
				HOL = {
					start_civil_war = { ideology = fascism size = 1 }
				}
				random_country = {
					limit= {
						original_tag = HOL
						has_government = fascism
					}
					transfer_state = 7
					transfer_state = 35
					transfer_state = 36
					GER = {
						puppet = PREV
						set_autonomy = { target = PREV autonomy_state = autonomy_integrated_puppet }
					}

					set_cosmetic_tag = HOL_reichskommissariat
					create_country_leader = {
						name = "Arthur Seyss-Inquart"
						desc = "POLITICS_ARTHUR_SEYSS_INQUART_DESC"
						picture = GFX_portrait_Arthur_Seyss_Inquart
						expire = "1965.1.1"
						ideology = nazism
						traits = {
						}
					}
				}
			}
			else = {
				HOL = {
					transfer_state = 7
					transfer_state = 35
					transfer_state = 36
					set_cosmetic_tag = HOL_reichskommissariat
					create_country_leader = {
						name = "Arthur Seyss-Inquart"
						desc = "POLITICS_ARTHUR_SEYSS_INQUART_DESC"
						picture = GFX_portrait_Arthur_Seyss_Inquart
						expire = "1965.1.1"
						ideology = nazism
						traits = {
						}
					}
				}
				set_autonomy = { target = HOL autonomy_state = autonomy_integrated_puppet }
			}
		}
	}

	GER_reichskommissariat_belgien_nordfrankreich = {

		icon = ger_reichskommissariats

		available = {
			has_completed_focus = GER_form_the_reichskommissariats
			has_government = fascism
			controls_state = 6
			controls_state = 29
			controls_state = 34
		}

		cost = 0

		ai_will_do = {
			factor = 0
			modifier = {
				add = 1
				ENG = { has_capitulated = yes }
			}
		}

		visible = {
			has_completed_focus = GER_form_the_reichskommissariats
			has_government = fascism
		}

		complete_effect = {
			if = {
				limit = {
					country_exists = BEL
					NOT = { BEL = { has_government = fascism } }
				}
				hidden_effect = {
					BEL = {
						set_state_controller = 6
						set_state_controller = 34
					}
				}
				BEL = {
					start_civil_war = { ideology = fascism size = 1 }
				}
				random_country = {
					limit= {
						original_tag = BEL
						has_government = fascism
					}
					transfer_state = 6
					transfer_state = 29
					transfer_state = 34
					GER = {
						puppet = PREV
						set_autonomy = { target = PREV autonomy_state = autonomy_integrated_puppet }
					}
					set_cosmetic_tag = BEL_reichskommissariat
					create_country_leader = {
						name = "Josef Grohe"
						desc = "POLITICS_JOSEF_GROHE_DESC"
						picture = GFX_portrait_Josef_Grohe
						expire = "1965.1.1"
						ideology = nazism
						traits = {
						}
					}
					hidden_effect = {
						29 = { add_core_of = PREV }
					}
				}
			}
			else = {
				BEL = {
					transfer_state = 6
					transfer_state = 29
					transfer_state = 34
					set_cosmetic_tag = BEL_reichskommissariat
					create_country_leader = {
						name = "Josef Grohe"
						desc = "POLITICS_JOSEF_GROHE_DESC"
						picture = GFX_portrait_Josef_Grohe
						expire = "1965.1.1"
						ideology = nazism
						traits = {
						}
					}
				}
				set_autonomy = { target = BEL autonomy_state = autonomy_integrated_puppet }
			}
		}
	}

	GER_reichskommissariat_ostland = {

		icon = ger_reichskommissariats

		available = {
			has_completed_focus = GER_form_the_reichskommissariats
			has_government = fascism
			controls_state = 97
			controls_state = 94
			controls_state = 95
			controls_state = 96
			controls_state = 194
			controls_state = 204
			controls_state = 206
			controls_state = 207
			controls_state = 241
			controls_state = 11
			controls_state = 784
			controls_state = 189
			controls_state = 12
			controls_state = 190
			controls_state = 13
			controls_state = 191
			controls_state = 814
			controls_state = 815
			controls_state = 809
			controls_state = 808
			controls_state = 810
			controls_state = 813
			controls_state = 812
			controls_state = 811
		}

		cost = 0

		ai_will_do = {
			factor = 0
			modifier = {
				add = 1
				SOV = { has_capitulated = yes }
			}
		}

		visible = {
			has_completed_focus = GER_form_the_reichskommissariats
			has_government = fascism
		}

		complete_effect = {
			release_on_controlled = BLR
			BLR = {
				set_state_controller = 11
				set_state_controller = 784
				set_state_controller = 189
				set_state_controller = 12
				set_state_controller = 190
				set_state_controller = 13
				set_state_controller = 191
				set_state_controller = 97
				set_state_controller = 94
				set_state_controller = 95
				set_state_controller = 96
				set_state_controller = 194
				set_state_controller = 204
				set_state_controller = 206
				set_state_controller = 207
				set_state_controller = 241
				set_state_controller = 784
				set_state_controller = 814
				set_state_controller = 815
				set_state_controller = 809
				set_state_controller = 808
				set_state_controller = 810
				set_state_controller = 813
				set_state_controller = 812
				set_state_controller = 811
				GER = {
					puppet = PREV
					if = {
						limit = {
							NOT = { has_dlc = "Death or Dishonor" }
						}
						set_autonomy = { target = PREV autonomy_state = autonomy_integrated_puppet }
					}
					else = {
						set_autonomy = { target = PREV autonomy_state = autonomy_reichskommissariat }
					}
				}

				set_cosmetic_tag = BLR_reichskommissariat
				create_country_leader = {
					name = "Hinrich Lohse"
					desc = "POLITICS_HINRICH_LOHSE_DESC"
					picture = GFX_portrait_Hinrich_Lohse
					expire = "1965.1.1"
					ideology = nazism
					traits = {
					}
				}
				hidden_effect = {
					every_state = {
						limit = {
							OR = {
								state = 11
								state = 189
								state = 12
								state = 190
								state = 13
								state = 191
								state = 784
								state = 97
								state = 814
								state = 815
								state = 809
								state = 808
								state = 810
								state = 813
								state = 812
								state = 811
							}
							is_owned_by = GER
						}
						BLR = {
							transfer_state = PREV
						}
					}
					11 = { add_core_of = PREV }
					97 = { add_core_of = PREV }
					189 = { add_core_of = PREV }
					12 = { add_core_of = PREV }
					190 = { add_core_of = PREV }
					13 = { add_core_of = PREV }
					191 = { add_core_of = PREV }
					814 = { add_core_of = PREV }
					815 = { add_core_of = PREV }
					809 = { add_core_of = PREV }
					808 = { add_core_of = PREV }
					810 = { add_core_of = PREV }
					813 = { add_core_of = PREV }
					812 = { add_core_of = PREV }
					811 = { add_core_of = PREV }
					784 = { add_core_of = PREV }
				}
			}
		}
	}

	GER_reichskommissariat_ukraine = {

		icon = ger_reichskommissariats

		available = {
			has_completed_focus = GER_form_the_reichskommissariats
			has_government = fascism
			controls_state = 93
			controls_state = 91
			controls_state = 89
			controls_state = 199
			controls_state = 201
			controls_state = 198
			controls_state = 202
			controls_state = 193
			controls_state = 192
			controls_state = 203
			controls_state = 197
			controls_state = 225
			controls_state = 259
			controls_state = 226
			controls_state = 196
			controls_state = 200
			controls_state = 221
			controls_state = 228
			controls_state = 227
		}

		cost = 0

		ai_will_do = {
			factor = 0
			modifier = {
				add = 1
				SOV = { has_capitulated = yes }
			}
		}

		visible = {
			has_completed_focus = GER_form_the_reichskommissariats
			has_government = fascism
		}

		complete_effect = {
			release_on_controlled = UKR
			UKR = {
				set_state_controller = 93
				set_state_controller = 91
				set_state_controller = 89
				set_state_controller = 199
				set_state_controller = 201
				set_state_controller = 198
				set_state_controller = 202
				set_state_controller = 193
				set_state_controller = 192
				set_state_controller = 203
				set_state_controller = 197
				set_state_controller = 225
				set_state_controller = 259
				set_state_controller = 226
				set_state_controller = 196
				set_state_controller = 200
				set_state_controller = 221
				set_state_controller = 228
				set_state_controller = 227
				GER = {
					puppet = PREV
					set_autonomy = { target = PREV autonomy_state = autonomy_integrated_puppet }
				}
				set_cosmetic_tag = UKR_reichskommissariat
				create_country_leader = {
					name = "Erich Koch"
					desc = "POLITICS_HINRICH_LOHSE_DESC"
					picture = GFX_portrait_Erich_Koch
					expire = "1965.1.1"
					ideology = nazism
					traits = {
					}
				}
			}
		}
	}
}

political_actions = {

	
	# fighting the revolts
	GER_crush_revolution_in_berlin = {

		allowed = {
			original_tag = GER
		}
		

		available = {
			has_stability > 0.6
			has_manpower > 20000
			has_full_control_of_state = 64
			840={is_demilitarized_zone = no}
			837={is_demilitarized_zone = no}
			68={is_demilitarized_zone = no}
		}
		
		icon = oppression
		
		highlight_states = {
			highlight_state_targets = { state = 64 } 
		}
		cancel_if_not_visible = yes

		on_map_mode = map_only

		cost = 100

		fire_only_once = yes
		days_remove = 20

		ai_will_do = {
			factor = 50
		}

		visible = {
			has_war = no
			64={is_core_of = DDR}
			NOT={has_country_flag = GER_saxon_civil_war}
		}

		remove_effect = {
			64={
				remove_core_of = DDR
				set_demilitarized_zone = no
			}
			add_manpower = -20000
			add_popularity = {
				ideology = communism
				popularity = -0.05
			}
		}
	}
	GER_retake_brandenburg = {

		allowed = {
			original_tag = GER
		}
		
		icon = oppression

		available = {
			has_stability > 0.45
			has_manpower > 10000
		}
		
		highlight_states = {
			highlight_state_targets = { state = 840 } 
		}
		cancel_if_not_visible = yes

		on_map_mode = map_only

		cost = 50

		fire_only_once = yes
		days_remove = 50

		ai_will_do = {
			factor = 50
		}

		visible = {
			has_war = no
			840={is_core_of = DDR}
			NOT={has_country_flag = GER_saxon_civil_war}
		}

		remove_effect = {
			add_popularity = {
				ideology = communism
				popularity = -0.05
			}
			840={
				remove_core_of = DDR
				set_demilitarized_zone = no
			}
			add_manpower = -10000
		}
	}
	GER_retake_stettin = {

		allowed = {
			original_tag = GER
		}
		
		icon = oppression

		available = {
			has_stability > 0.45
			has_manpower > 10000
		}

		cost = 50
		
		highlight_states = {
			highlight_state_targets = { state = 837 } 
		}
		cancel_if_not_visible = yes

		on_map_mode = map_only

		fire_only_once = yes
		days_remove = 50

		ai_will_do = {
			factor = 50
		}

		visible = {
			has_war = no
			837={is_core_of = DDR}
			NOT={has_country_flag = GER_saxon_civil_war}
		}

		remove_effect = {
			add_popularity = {
				ideology = communism
				popularity = -0.05
			}
			837={
				remove_core_of = DDR
				set_demilitarized_zone = no
			}
			add_manpower = -10000
		}
	}
	GER_retake_ostmark = {

		allowed = {
			original_tag = GER
		}

		available = {
			has_stability > 0.40
			has_manpower > 10000
		}
		
		icon = oppression
		
		highlight_states = {
			highlight_state_targets = { state = 68 } 
		}
		cancel_if_not_visible = yes

		on_map_mode = map_only

		cost = 50

		fire_only_once = yes
		days_remove = 50

		ai_will_do = {
			factor = 50
		}

		visible = {
			has_war = no
			68={is_core_of = DDR}
			NOT={has_country_flag = GER_saxon_civil_war}
		}

		remove_effect = {
			add_popularity = {
				ideology = communism
				popularity = -0.02
			}
			68={
				remove_core_of = DDR
				set_demilitarized_zone = no
			}
			add_manpower = -10000
		}
	}

	GER_retake_west_bank_rhine = {

		allowed = {
			original_tag = GER
		}
		
		icon = oppression

		available = {
			has_stability > 0.40
			has_manpower > 10000
		}

		cost = 50
		
		highlight_states = {
			highlight_state_targets = { state = 51 } 
		}
		cancel_if_not_visible = yes

		on_map_mode = map_only

		fire_only_once = yes
		days_remove = 50

		ai_will_do = {
			factor = 50
		}

		visible = {
			has_war = no
			51={is_core_of = DDR}
			NOT={has_country_flag = GER_saxon_civil_war}
		}

		remove_effect = {
			add_popularity = {
				ideology = communism
				popularity = -0.02
			}
			51={
				remove_core_of = DDR
				set_demilitarized_zone = no
			}
			add_manpower = -10000
		}
	}
	GER_retake_east_bank_rhine = {

		allowed = {
			original_tag = GER
		}

		available = {
			has_stability > 0.40
			has_manpower > 10000
		}
		
		icon = oppression
		
		highlight_states = {
			highlight_state_targets = { state = 838 } 
		}
		cancel_if_not_visible = yes

		on_map_mode = map_only

		cost = 50

		fire_only_once = yes
		days_remove = 50

		ai_will_do = {
			factor = 50
		}

		visible = {
			has_war = no
			838={is_core_of = DDR}
			NOT={has_country_flag = GER_saxon_civil_war}
		}

		remove_effect = {
			add_popularity = {
				ideology = communism
				popularity = -0.02
			}
			838={
				remove_core_of = DDR
				set_demilitarized_zone = no
			}
			add_manpower = -10000
		}
	}
	GER_retake_westmark = {

		allowed = {
			original_tag = GER
		}

		available = {
			has_stability > 0.40
			has_manpower > 10000
		}
		
		icon = oppression
		
		highlight_states = {
			highlight_state_targets = { state = 42 } 
		}
		cancel_if_not_visible = yes

		on_map_mode = map_only

		cost = 50

		fire_only_once = yes
		days_remove = 50

		ai_will_do = {
			factor = 50
		}

		visible = {
			has_war = no
			42={is_core_of = DDR}
			NOT={has_country_flag = GER_saxon_civil_war}
		}

		remove_effect = {
			add_popularity = {
				ideology = communism
				popularity = -0.02
			}
			42={
				remove_core_of = DDR
				set_demilitarized_zone = no
			}
			add_manpower = -10000
		}
	}

	GER_crush_revolution_in_holland = {

		allowed = {
			original_tag = GER
		}

		available = {
			has_stability > 0.60
			has_manpower > 20000
			has_full_control_of_state = 7
			36={is_demilitarized_zone = no}
			950={is_demilitarized_zone = no}
			35={is_demilitarized_zone = no}
			6={is_demilitarized_zone = no}
			949={is_demilitarized_zone = no}
		}
		
		icon = oppression
		
		highlight_states = {
			highlight_state_targets = { state = 7 } 
		}
		cancel_if_not_visible = yes

		on_map_mode = map_only

		cost = 50

		fire_only_once = yes
		days_remove = 50

		ai_will_do = {
			factor = 50
		}

		visible = {
			has_war = no
			7={is_core_of = WGR}
			NOT={has_country_flag = GER_saxon_civil_war}
		}

		remove_effect = {
			add_popularity = {
				ideology = democratic
				popularity = -0.02
			}
			7={
				remove_core_of = WGR
				set_demilitarized_zone = no
			}
			add_manpower = -20000
		}
	}
	GER_retake_vlaanderen = {

		allowed = {
			original_tag = GER
		}

		available = {
			has_stability > 0.40
			has_manpower > 10000
		}
		
		icon = oppression
		
		highlight_states = {
			highlight_state_targets = { state = 6 } 
		}
		cancel_if_not_visible = yes

		on_map_mode = map_only

		cost = 50

		fire_only_once = yes
		days_remove = 50

		ai_will_do = {
			factor = 50
		}

		visible = {
			has_war = no
			6={is_core_of = WGR}
			NOT={has_country_flag = GER_saxon_civil_war}
		}

		remove_effect = {
			add_popularity = {
				ideology = democratic
				popularity = -0.02
			}
			6={
				remove_core_of = WGR
				set_demilitarized_zone = no
			}
			add_manpower = -10000
		}
	}
	GER_retake_brabant = {

		allowed = {
			original_tag = GER
		}

		available = {
			has_stability > 0.40
			has_manpower > 10000
		}
		
		icon = oppression
		
		highlight_states = {
			highlight_state_targets = { state = 35 } 
		}
		cancel_if_not_visible = yes

		on_map_mode = map_only

		cost = 50

		fire_only_once = yes
		days_remove = 50

		ai_will_do = {
			factor = 50
		}

		visible = {
			has_war = no
			35={is_core_of = WGR}
			NOT={has_country_flag = GER_saxon_civil_war}
		}

		remove_effect = {
			add_popularity = {
				ideology = democratic
				popularity = -0.02
			}
			35={
				remove_core_of = WGR
				set_demilitarized_zone = no
			}
			add_manpower = -10000
		}
	}
	GER_retake_zeeland = {

		allowed = {
			original_tag = GER
		}

		available = {
			has_stability > 0.40
			has_manpower > 10000
		}
		
		icon = oppression
		
		highlight_states = {
			highlight_state_targets = { state = 949 } 
		}
		cancel_if_not_visible = yes

		on_map_mode = map_only

		cost = 50

		fire_only_once = yes
		days_remove = 50

		ai_will_do = {
			factor = 50
		}

		visible = {
			has_war = no
			949={is_core_of = WGR}
			NOT={has_country_flag = GER_saxon_civil_war}
		}

		remove_effect = {
			add_popularity = {
				ideology = democratic
				popularity = -0.02
			}
			949={
				remove_core_of = WGR
				set_demilitarized_zone = no
			}
			add_manpower = -10000
		}
	}
	GER_retake_west_friesland = {

		allowed = {
			original_tag = GER
		}

		available = {
			has_stability > 0.40
			has_manpower > 10000
		}
		
		icon = oppression
		
		highlight_states = {
			highlight_state_targets = { state = 36 } 
		}
		cancel_if_not_visible = yes

		on_map_mode = map_only

		cost = 50

		fire_only_once = yes
		days_remove = 50

		ai_will_do = {
			factor = 50
		}

		visible = {
			has_war = no
			36={is_core_of = WGR}
			NOT={has_country_flag = GER_saxon_civil_war}
		}

		remove_effect = {
			add_popularity = {
				ideology = democratic
				popularity = -0.02
			}
			36={
				remove_core_of = WGR
				set_demilitarized_zone = no
			}
			add_manpower = -10000
		}
	}
	GER_retake_ost_friesland = {

		allowed = {
			original_tag = GER
		}

		available = {
			has_stability > 0.40
			has_manpower > 10000
		}
		
		icon = oppression
		
		highlight_states = {
			highlight_state_targets = { state = 950 } 
		}
		cancel_if_not_visible = yes

		on_map_mode = map_only

		cost = 50

		fire_only_once = yes
		days_remove = 50

		ai_will_do = {
			factor = 50
		}

		visible = {
			has_war = no
			950={is_core_of = WGR}
			NOT={has_country_flag = GER_saxon_civil_war}
		}

		remove_effect = {
			add_popularity = {
				ideology = democratic
				popularity = -0.02
			}
			950={
				remove_core_of = WGR
				set_demilitarized_zone = no
			}
			add_manpower = -10000
		}
	}

	GER_crush_revolution_in_prague = {

		allowed = {
			original_tag = GER
		}

		available = {
			has_stability > 0.60
			has_manpower > 10000
			has_full_control_of_state = 9
			69={is_demilitarized_zone = no}
			74={is_demilitarized_zone = no}
			946={is_demilitarized_zone = no}
			75={is_demilitarized_zone = no}
		}
		
		icon = oppression
		
		highlight_states = {
			highlight_state_targets = { state = 9 } 
		}
		cancel_if_not_visible = yes

		on_map_mode = map_only

		cost = 100

		fire_only_once = yes
		days_remove = 50

		ai_will_do = {
			factor = 50
		}

		visible = {
			has_war = no
			9={is_core_of = WGR}
			NOT={has_country_flag = GER_saxon_civil_war}
		}

		remove_effect = {
			add_popularity = {
				ideology = democratic
				popularity = -0.02
			}
			9={
				remove_core_of = WGR
				set_demilitarized_zone = no
			}
			add_manpower = -10000
		}
	}
	GER_retake_sudetenland = {

		allowed = {
			original_tag = GER
		}

		available = {
			has_stability > 0.40
			has_manpower > 10000
		}
		
		icon = oppression
		
		highlight_states = {
			highlight_state_targets = { state = 69 } 
		}
		cancel_if_not_visible = yes

		on_map_mode = map_only

		cost = 50

		fire_only_once = yes
		days_remove = 50

		ai_will_do = {
			factor = 50
		}

		visible = {
			has_war = no
			69={is_core_of = WGR}
			NOT={has_country_flag = GER_saxon_civil_war}
		}

		remove_effect = {
			add_popularity = {
				ideology = democratic
				popularity = -0.02
			}
			69={
				remove_core_of = WGR
				set_demilitarized_zone = no
			}
			add_manpower = -10000
		}
	}
	GER_retake_south_sudetenland = {

		allowed = {
			original_tag = GER
		}

		available = {
			has_stability > 0.40
			has_manpower > 10000
		}
		
		icon = oppression
		
		highlight_states = {
			highlight_state_targets = { state = 946 } 
		}
		cancel_if_not_visible = yes

		on_map_mode = map_only

		cost = 50

		fire_only_once = yes
		days_remove = 50

		ai_will_do = {
			factor = 50
		}

		visible = {
			has_war = no
			946={is_core_of = WGR}
			NOT={has_country_flag = GER_saxon_civil_war}
		}

		remove_effect = {
			add_popularity = {
				ideology = democratic
				popularity = -0.02
			}
			946={
				remove_core_of = WGR
				set_demilitarized_zone = no
			}
			add_manpower = -10000
		}
	}
	GER_retake_east_sudetenland = {

		allowed = {
			original_tag = GER
		}

		available = {
			has_stability > 0.40
			has_manpower > 10000
		}
		
		icon = oppression
		
		highlight_states = {
			highlight_state_targets = { state = 74 } 
		}
		cancel_if_not_visible = yes

		on_map_mode = map_only

		cost = 50

		fire_only_once = yes
		days_remove = 50

		ai_will_do = {
			factor = 50
		}

		visible = {
			has_war = no
			74={is_core_of = WGR}
			NOT={has_country_flag = GER_saxon_civil_war}
		}

		remove_effect = {
			add_popularity = {
				ideology = democratic
				popularity = -0.02
			}
			74={
				remove_core_of = WGR
				set_demilitarized_zone = no
			}
			add_manpower = -10000
		}
	}
	GER_retake_moravia = {

		allowed = {
			original_tag = GER
		}

		available = {
			has_stability > 0.40
			has_manpower > 10000
		}
		
		icon = oppression
		
		highlight_states = {
			highlight_state_targets = { state = 75 } 
		}
		cancel_if_not_visible = yes

		on_map_mode = map_only

		cost = 50

		fire_only_once = yes
		days_remove = 50

		ai_will_do = {
			factor = 50
		}

		visible = {
			has_war = no
			75={is_core_of = WGR}
			NOT={has_country_flag = GER_saxon_civil_war}
		}

		remove_effect = {
			add_popularity = {
				ideology = democratic
				popularity = -0.02
			}
			75={
				remove_core_of = WGR
				set_demilitarized_zone = no
			}
			add_manpower = -10000
		}
	}

	GER_retake_austria = {

		allowed = {
			original_tag = GER
		}

		available = {
			has_stability > 0.50
			has_manpower > 50000
			has_full_control_of_state = 4
		}
		
		icon = oppression
		
		highlight_states = {
			highlight_state_targets = { 
				state = 4 
			} 
		}
		cancel_if_not_visible = yes

		on_map_mode = map_only

		cost = 100

		fire_only_once = yes
		days_remove = 50

		ai_will_do = {
			factor = 50
		}

		visible = {
			has_war = no
			4={is_core_of = AUS}
			NOT={has_country_flag = GER_saxon_civil_war}
		}

		remove_effect = {
			add_popularity = {
				ideology = fascism
				popularity = -0.02
			}
			4={
				remove_core_of = AUS
				set_demilitarized_zone = no
			}
			152={
				remove_core_of = AUS
				set_demilitarized_zone = no
			}
			851={
				remove_core_of = AUS
				set_demilitarized_zone = no
			}
			852={
				remove_core_of = AUS
				set_demilitarized_zone = no
			}
			add_manpower = -50000
		}
	}
	GER_retake_franken = {

		allowed = {
			original_tag = GER
		}

		available = {
			has_stability > 0.40
			has_manpower > 10000
			OR={
				has_full_control_of_state = 54
				BAY={has_full_control_of_state = 54}
			}
			if={
				limit={
					BAY={has_full_control_of_state = 54}
				}
				has_full_control_of_state = 60
			}
		}
		
		icon = oppression
		
		highlight_states = {
			highlight_state_targets = { state = 54 } 
		}
		cancel_if_not_visible = yes

		on_map_mode = map_only

		cost = 50

		fire_only_once = yes
		days_remove = 50

		ai_will_do = {
			factor = 50
		}

		visible = {
			has_war = no
			54={is_core_of = BAY}
			NOT={has_country_flag = GER_saxon_civil_war}
		}

		remove_effect = {
			if={
				limit={
					BAY={exists = no}
				}
				54={
					remove_core_of = BAY
					set_demilitarized_zone = no
				}
			}
			else={
				start_border_war = {
					change_state_after_war = yes
					attacker = {
						state = 60
						num_provinces = 3
						on_win = saxonian.21
						on_lose = saxonian.22
						on_cancel = saxonian.23
						modifier = 0.1
						dig_in_factor = 0
						terrain_factor = 0
					}	
					defender = {
						state = 54
						num_provinces = 4
						on_win = saxonian.22
						on_lose = saxonian.21
						on_cancel = saxonian.23
					}
				}
			}
			add_manpower = -10000
		}
	}
	GER_retake_regensburg = {

		allowed = {
			original_tag = GER
		}

		available = {
			has_stability > 0.40
			has_manpower > 10000
			OR={
				has_full_control_of_state = 850
				BAY={has_full_control_of_state = 850}
			}
			if={
				limit={
					BAY={has_full_control_of_state = 850}
				}
				has_full_control_of_state = 53
			}
		}
		
		icon = oppression
		
		highlight_states = {
			highlight_state_targets = { state = 850 } 
		}
		cancel_if_not_visible = yes

		on_map_mode = map_only

		cost = 50

		fire_only_once = yes
		days_remove = 50

		ai_will_do = {
			factor = 50
		}

		visible = {
			has_war = no
			850={is_core_of = BAY}
			NOT={has_country_flag = GER_saxon_civil_war}
		}

		remove_effect = {
			if={
				limit={
					BAY={exists = no}
				}
				850={
					remove_core_of = BAY
					set_demilitarized_zone = no
				}
			}
			else={
				start_border_war = {
					change_state_after_war = yes
					attacker = {
						state = 53
						num_provinces = 3
						on_win = saxonian.21
						on_lose = saxonian.22
						on_cancel = saxonian.23
						modifier = 0.1
						dig_in_factor = 0
						terrain_factor = 0
					}	
					defender = {
						state = 850
						num_provinces = 4
						on_win = saxonian.22
						on_lose = saxonian.21
						on_cancel = saxonian.23
					}
				}
			}
			add_manpower = -10000
		}
	}
	GER_retake_berchtesgaden = {

		allowed = {
			original_tag = GER
		}

		available = {
			has_stability > 0.40
			has_manpower > 10000
			OR={
				has_full_control_of_state = 845
				BAY={has_full_control_of_state = 845}
			}
			if={
				limit={
					BAY={has_full_control_of_state = 845}
				}
				has_full_control_of_state = 850
			}
		}
		
		icon = oppression
		
		highlight_states = {
			highlight_state_targets = { state = 845 } 
		}
		cancel_if_not_visible = yes

		on_map_mode = map_only

		cost = 50

		fire_only_once = yes
		days_remove = 50

		ai_will_do = {
			factor = 50
		}

		visible = {
			has_war = no
			845={is_core_of = BAY}
			NOT={has_country_flag = GER_saxon_civil_war}
		}

		remove_effect = {
			if={
				limit={
					BAY={exists = no}
				}
				845={
					remove_core_of = BAY
					set_demilitarized_zone = no
				}
			}
			else={
				start_border_war = {
					change_state_after_war = yes
					attacker = {
						state = 850
						num_provinces = 3
						on_win = saxonian.21
						on_lose = saxonian.22
						on_cancel = saxonian.23
						modifier = 0.1
						dig_in_factor = 0
						terrain_factor = 0
					}	
					defender = {
						state = 845
						num_provinces = 4
						on_win = saxonian.22
						on_lose = saxonian.21
						on_cancel = saxonian.23
					}
				}
			}
			add_manpower = -10000
		}
	}
	GER_retake_niederbayern = {

		allowed = {
			original_tag = GER
		}

		available = {
			has_stability > 0.40
			has_manpower > 10000
			OR={
				has_full_control_of_state = 53
				BAY={has_full_control_of_state = 53}
			}
			if={
				limit={
					BAY={has_full_control_of_state = 53}
				}
				has_full_control_of_state = 54
			}
		}
		
		icon = oppression
		
		highlight_states = {
			highlight_state_targets = { state = 53 } 
		}
		cancel_if_not_visible = yes

		on_map_mode = map_only

		cost = 50

		fire_only_once = yes
		days_remove = 50

		ai_will_do = {
			factor = 50
		}

		visible = {
			has_war = no
			53={is_core_of = BAY}
			NOT={has_country_flag = GER_saxon_civil_war}
		}

		remove_effect = {
			if={
				limit={
					BAY={exists = no}
				}
				53={
					remove_core_of = BAY
					set_demilitarized_zone = no
				}
			}
			else={
				start_border_war = {
					change_state_after_war = yes
					attacker = {
						state = 54
						num_provinces = 3
						on_win = saxonian.21
						on_lose = saxonian.22
						on_cancel = saxonian.23
						modifier = 0.1
						dig_in_factor = 0
						terrain_factor = 0
					}	
					defender = {
						state = 53
						num_provinces = 3
						on_win = saxonian.22
						on_lose = saxonian.21
						on_cancel = saxonian.23
					}
				}
			}
			add_manpower = -10000
		}
	}
	GER_crush_revolution_in_munich = {

		allowed = {
			original_tag = GER
		}
		

		available = {
			has_full_control_of_state = 52
			has_stability > 0.6
			has_manpower > 20000
			845={is_demilitarized_zone = no}
			850={is_demilitarized_zone = no}
			53={is_demilitarized_zone = no}
			54={is_demilitarized_zone = no}
		}
		
		icon = oppression
		
		highlight_states = {
			highlight_state_targets = { state = 52 } 
		}
		cancel_if_not_visible = yes

		on_map_mode = map_only

		cost = 100

		fire_only_once = yes
		days_remove = 20

		ai_will_do = {
			factor = 50
		}

		visible = {
			has_war = no
			52={is_core_of = BAY}
			NOT={has_country_flag = GER_saxon_civil_war}
		}

		remove_effect = {
			52={
				remove_core_of = BAY
				set_demilitarized_zone = no
			}
			add_manpower = -20000
			add_popularity = {
				ideology = communism
				popularity = -0.05
			}
		}
	}

	GER_civil_war_countdown = {

		icon = generic_operation

		allowed = {
			original_tag = GER
		}

		available = {
			has_stability > 0.2
			custom_trigger_tooltip={
				tooltip = GER_monarchy_more_popular_than_communism
				monarchy > party_popularity@communism
			}
			custom_trigger_tooltip={
				tooltip = GER_monarchy_more_popular_than_republicanism
				monarchy > party_popularity@democratic
			}
			
		}

		days_mission_timeout = 180
		fire_only_once = yes

		activation = {
			OR={
				has_stability < 0.1
				monarchy < party_popularity@communism
				monarchy < party_popularity@democratic
			}
			BAY={exists = yes}
		}

		is_good = no

		complete_effect = {
			add_stability = 0.1
			#custom_effect_tooltip = barbarossa_mission_tt
		}

		timeout_effect = {
			custom_effect_tooltip = GER_civil_war_mission_tt
			set_country_flag = GER_saxon_civil_war
			country_event = saxonian.30
		}

		ai_will_do = {
			factor = 1
		}
	}
}

foreign_politics = {

	GER_request_polish_war_participation = {

		icon = generic_prepare_civil_war

		allowed = {
			original_tag = GER
		}

		available = {
			has_war_with = SOV
			NOT = { is_in_faction_with = POL }
		}

		cost = 50

		fire_only_once = yes

		ai_will_do = {
			factor = 200
		}

		visible = {
			has_country_flag = poland_traded_danzig
			has_completed_focus = GER_tackle_the_communist_threat
		}

		complete_effect = {
			POL = { country_event = { id = wtt_germany.65 hours = 6 } }
		}

	}
	
	GER_send_arms_to_TMR_civil = {

		icon = generic_prepare_civil_war

		allowed = {
			original_tag = GER
		}

		available = {
			has_completed_focus = GER_foreign_sphere
			has_manpower > 20000
			has_equipment = {
				infantry_equipment > 199
			}
			NOT = { is_in_faction_with = TMR }
		}

		cost = 50

		fire_only_once = yes

		ai_will_do = {
			factor = 200
		}

		visible = {
			TMR={
				exists = yes
				OR={
					has_war_with = RLL
					has_war_with = SRB
					has_war_with = EST
				}
			}
		}

		complete_effect = {
			add_manpower = -20000
			TMR={country_event = {id = saxonian.29}}
		}

	}
}

#Category only allowed for GER
GER_military_buildup = {

	GER_plan_z = {

		icon = generic_naval

		available = {
			has_navy_size = {
				unit = battleship
				size > 9
			}
			has_navy_size = {
				unit = battle_cruiser
				size > 2
			}
			has_navy_size = {
				unit = carrier
				size > 3
			}
			has_navy_size = {
				unit = heavy_cruiser
				size > 19
			}
			has_navy_size = {
				unit = light_cruiser
				size > 19
			}
			has_navy_size = {
				unit = destroyer
				size > 99
			}
		}

		fire_only_once = yes
		days_mission_timeout = 1800
		is_good = no
		activation = {
			has_completed_focus = GER_plan_z
		}


		visible = {
			has_completed_focus = GER_plan_z
		}

		complete_effect = {
			add_war_support = 0.05
			navy_experience = 150
		}


	}

}

special_projects = {
	GER_begin_heavy_water_production = {
		allowed = {
			original_tag = GER
			has_dlc = "La Resistance"
		}
		available = {
			110 = {
				CONTROLLER = {
					OR = {
						tag = ROOT
						is_subject_of = ROOT
					}
				}
			}
		}
		visible = { has_tech = atomic_research }
		cost = 0
		ai_will_do = {
			factor = 5
		}
		cancel_trigger = { NOT = { has_global_flag = GER_heavy_water_production_underway } } #can be removed via intelligence ops
		days_remove = 365
		remove_effect = {
			add_tech_bonus = {
				name = GER_heavy_water
				category = nuclear
				uses = 2
				bonus = 2
			}
		}
		complete_effect = { set_global_flag = GER_heavy_water_production_underway }
	}
	GER_dismantle_maginot = {

		icon = generic_construction

		available = {
			#has_war = yes
			controls_state = 28
			if = {
				limit = {
					FRA = { has_completed_focus = FRA_extend_the_maginot_line }
				}
				controls_state = 18
				controls_state = 29
			}
		}

		cost = 50
		fire_only_once = yes

		ai_will_do = {
			factor = 0
		}
		visible = {
			#has_war = yes
			controls_state = 28
			if = {
				limit = {
					FRA = { has_completed_focus = FRA_extend_the_maginot_line }
				}
				controls_state = 18
				controls_state = 29
			}
		}
		days_remove = 180
		modifier = {
			civilian_factory_use = 5
		}
		remove_effect = {
			28 = {
				set_building_level = {
					type = bunker
					level = 2
					province = {
						all_provinces = yes
						limit_to_border = no
						level > 2
					}
				}
			}
			if = {
				limit = {
					FRA = { has_completed_focus = FRA_extend_the_maginot_line }
				}
				18 = {
					set_building_level = {
						type = bunker
						level = 2
						province = {
							all_provinces = yes
							limit_to_border = no
							level > 2
						}
					}
				}
				29 = {
					set_building_level = {
						type = bunker
						level = 2
						province = {
							all_provinces = yes
							limit_to_border = no
							level > 2
						}
					}
				}
			}
			if = {
				limit = {
					has_idea = FRA_protected_by_the_maginot_line
				}
				remove_ideas = FRA_protected_by_the_maginot_line
			}
		}
		complete_effect = {
			if = {
				limit = { FRA = { has_completed_focus = FRA_extend_the_maginot_line } }
				add_timed_idea = { idea = GER_dismantle_maginot days = 270 }
				else = {
					add_timed_idea = { idea = GER_dismantle_maginot days = 180 }
				}
			}
		}
	}
}

GER_aid_hun_rom_democratic_civil_war = {

	GER_aid_hun_democratic_civil_war = {

		icon = generic_prepare_civil_war

		available = {
			HUN = {
				NOT = { has_government = democratic }
				NOT = { has_war_with = GER }
				has_civil_war = yes
				exists = yes
				any_enemy_country = {
					original_tag = HUN
					has_government = democratic
				}
			}
		}

		cost = 0

		ai_will_do = {
			factor = 200
		}

		#Available if democratic civil war
		visible = {
			has_completed_focus = GER_align_hungary
			GER = { has_government = democratic }
		}

		complete_effect = {
			if = {
				limit = {
					HUN = { is_in_faction_with = GER }
				}
				remove_from_faction = HUN
				random_country = {
					limit = {
						original_tag = HUN
						has_government = democratic
						has_war_with = HUN
					}
					GER = { add_to_faction = PREV }
				}
			}
			random_country = {
				limit = {
					original_tag = HUN
					has_government = democratic
					has_war_with = HUN
				}
				GER = { add_to_war = { targeted_alliance = PREV enemy = HUN hostility_reason = asked_to_join } }
			}
		}
	}

	GER_aid_rom_democratic_civil_war = {

		icon = generic_prepare_civil_war

		available = {
			ROM = {
				NOT = { has_government = democratic }
				NOT = { has_war_with = GER }
				has_civil_war = yes
				exists = yes
				any_enemy_country = {
					original_tag = ROM
					has_government = democratic
				}
			}
		}

		cost = 0

		ai_will_do = {
			factor = 200
		}

		#Available if democratic civil war
		visible = {
			has_completed_focus = GER_align_romania
			GER = { has_government = democratic }
		}

		complete_effect = {
			if = {
				limit = {
					ROM = { is_in_faction_with = GER }
				}
				remove_from_faction = ROM
				random_country = {
					limit = {
						original_tag = ROM
						has_government = democratic
						has_war_with = ROM
					}
					GER = { add_to_faction = PREV }
				}
			}
			random_country = {
				limit = {
					original_tag = ROM
					has_government = democratic
					has_war_with = ROM
				}
				GER = { add_to_war = { targeted_alliance = PREV enemy = ROM hostility_reason = asked_to_join } }
			}
		}
	}

}

GER_austro_hungarian_empire = {

	GER_reform_austro_hungarian_empire = {

		allowed = {
			OR = {
				original_tag = AUS
				original_tag = HUN
				original_tag = CZE
			}
		}

		available = {
			AUS = {
				OR = {
					has_government = neutrality
					neutrality > 0.4
				}
			}
			HUN = {
				OR = {
					has_government = neutrality
					neutrality > 0.4
				}
			}
			CZE = {
				OR = {
					has_government = neutrality
					neutrality > 0.4
				}
			}
		}

		visible = {
			GER = {
				has_completed_focus = GER_rekindle_imperial_sentiment
				has_government = neutrality
			}
			AUS = {
				exists = yes
			}
			HUN = {
				exists = yes
			}
			CZE = {
				exists = yes
			}
			NOT = { has_global_flag = GER_reformed_austro_hungarian_empire }
		}

		cost = 0
		fire_only_once = yes

		ai_will_do = {
			factor = 200
			modifier = {
				factor = 0
				tag = HUN
			}
			modifier = {
				factor = 0
				tag = CZE
			}
		}

		complete_effect = {
			custom_effect_tooltip = GER_reform_austro_hungarian_empire_tt
			hidden_effect = { set_global_flag = GER_reformed_austro_hungarian_empire }
			if = {
				limit = {
					tag = AUS
				}
				HUN = { country_event = { id = wtt_germany.68 hours = 1 } }
				CZE = { country_event = { id = wtt_germany.68 hours = 3 } }
			}
			if = {
				limit = {
					tag = HUN
				}
				AUS = { country_event = { id = wtt_germany.68 hours = 1 } }
				CZE = { country_event = { id = wtt_germany.68 hours = 3 } }
			}
			if = {
				limit = {
					tag = CZE
				}
				HUN = { country_event = { id = wtt_germany.68 hours = 1 } }
				AUS = { country_event = { id = wtt_germany.68 hours = 3 } }
			}
		}
	}
}



GER_warbond_administration={

	GER_austerity_mission = {

		allowed = { always = no }

		icon = ger_mefo_bills

		available = {
			
			hidden_trigger = { always = no }
		}

		#cost = GER_mefo_bill_counter?10

		days_mission_timeout = 180
		is_good = yes
		fire_only_once = yes

		cancel_trigger = {
			NOT = { has_idea = GER_austerity_idea }
		}

		days_remove = GER_extend_mefo_bills_days?0
		remove_effect = {
		}

		complete_effect = {
		}

		timeout_effect = {
			set_temp_variable = {
				GER_tmp_decrease_loan_var = 300
			}
			GER_decrease_debt = yes
			if = {
				limit = {
					has_country_flag = ger_has_ended_austerity
				}
				#GER_end_austerity = yes
				if={
					limit={
						has_idea = GER_austerity_idea
					}
					remove_ideas = {GER_austerity_idea}
				}
			}
			else = {
				hidden_effect = {
					activate_mission = GER_austerity_mission
				}
			}
		}

		ai_will_do = {
			factor = 200
		}
	}
	GER_end_austerity = {

		icon = ger_mefo_bills

		available = {
			hidden_trigger = {
				has_country_flag = GER_austerity_started
			}
		}

		cost = 0

		fire_only_once = no

		visible = {
			hidden_trigger = {
				has_country_flag = GER_austerity_started
			}
		}

		cancel_if_not_visible = yes

		remove_effect = {
			clr_country_flag = GER_austerity_started
			clr_country_flag = GER_debt_repayment_authorised
			set_country_flag = ger_has_ended_austerity
		}

		ai_will_do = {
			factor = 0
		}
	}
	
	GER_begin_austerity = {

		icon = ger_mefo_bills

		available = {
			has_idea = GER_war_debt
		}

		cost = 100

		fire_only_once = yes

		visible = {
			hidden_trigger = {
				has_country_flag = GER_debt_repayment_authorised
			}
		}

		cancel_if_not_visible = yes

		complete_effect = {
			activate_mission = GER_austerity_mission
			set_country_flag = GER_austerity_started
			add_ideas = {GER_austerity_idea}
		}
		modifier={
			
		}

		ai_will_do = {
			factor = 0
		}
	}
	
	GER_redem_a_portion_of_bonds = {

		icon = ger_mefo_bills

		available = {
			has_idea = GER_war_debt
			num_of_civilian_factories_available_for_projects > 4
		}

		cost = 25
		visible = {
			hidden_trigger = {
				has_country_flag = GER_war_bond_repayment_authorised
			}
		}
		days_remove = 180

		cancel_if_not_visible = yes

		remove_effect = {
			set_temp_variable = {
				GER_tmp_decrease_loan_var = 150
			}
			GER_decrease_debt = yes
		}
		modifier={
			civilian_factory_use = 5
		}

		ai_will_do = {
			factor = 2
			modifier={
				factor = 0
				has_war = yes
			}
		}
	}
	GER_miricle_on_rhine_mission = {

		allowed = { always = no }

		icon = ger_mefo_bills

		available = {
			hidden_trigger = { always = no }
		}

		#cost = GER_mefo_bill_counter?10

		days_mission_timeout = 360
		is_good = yes
		fire_only_once = yes

		cancel_trigger = {
			OR={
				NOT={has_full_control_of_state = 51}
				51={
					is_demilitarized_zone = yes
				}
				NOT={has_full_control_of_state = 838}
				838={
					is_demilitarized_zone = yes
				}
			}
		}

		days_remove = 360
		remove_effect = {
		}

		complete_effect = {
		}

		timeout_effect = {
			set_temp_variable = {
				GER_tmp_decrease_loan_var = 1000
			}
			GER_decrease_debt = yes
			country_event = saxonian.24
		}

		ai_will_do = {
			factor = 200
		}
	}
}

GER_frankish_integration={
	crackdown_in_occupied_frankia = {
		state_target = yes
		target_root_trigger = {
			original_tag = GER
		}
		#targets = { 976 977 785 }
		target_array = GER.owned_states
		target_trigger = {
			FROM = {
				#is_owned_by = ROOT
				#NOT={is_core_of = GER}
				#is_core_of = FRA
				has_dynamic_modifier = {
					modifier = frankish_resistance
				}
				#has_state_flag = frankish_resistance
			}
		}
		available = {
			has_stability > 0.33
			has_manpower > 499
			FROM={resistance < 1}
		}
		on_map_mode = map_and_decisions_view
		icon = oppression
		cost = 20
		complete_effect = {
			add_manpower = -500
			FROM = {
				remove_dynamic_modifier = {modifier = frankish_resistance}
			}
		}
		ai_will_do = {
			factor = 50
		}
	}
}